<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=700px,initial-scale=1">
    <script src="https://cdn.tailwindcss.com"></script>
    <title></title>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        bb: 'var(--bg-color)',
                        dynamicBg: 'var(--bg-color)',
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        body {
            background-color: var(--bg-color);
            color: white;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
            font-weight: 400;
            width: 700px;
        }
    </style>
    <style>
        :root {
            --bg-color: {{ background_color }};
        }
    </style>
</head>

<body>
    {% set bg_opacity_map = {
        'bf1': 'bg-opacity-10',
        'bf4': 'bg-opacity-30',
        'bfv': 'bg-opacity-25'
    } %}
    {% set current_bg_opacity_class = bg_opacity_map.get(game, 'bg-opacity-10') %}

    <div class="bg-cover" style="background-image: url('{{ banner }}'); height: 260px;">
        <div class="absolute inset-0 bg-gradient-to-b from-dynamicBg/0 via-dynamicBg/10 to-dynamicBg/40"></div>
    <div class="relative z-10 flex flex-col items-center justify-center h-full">
            <img src="{{ logo }}" alt="logo" class="rounded-lg" style="width:  280px;" />
            <div class="font-bold text-3xl">服务器列表</div>
        </div>
    </div>
    <div class="flex flex-col gap-4 mx-5" style="margin-top: 1rem;">
        {% from "server_card.html" import server_card %}
        {% if servers_data is not none %}
        {% for server in servers_data %}
        {{ server_card(server, game, current_bg_opacity_class) }}
        {% endfor %}
        {% else %}
        <div class="text-center text-slate-400">暂无服务器</div>
        {% endif %}
    </div>
    <div class="flex flex-col justify-center items-center text-slate-400 py-3">
        <span>powered by astrbot</span>
        <span>数据更新时间：{{ update_time }}</span>
    </div>
</body>

</html>
